---
title: "Environmental Data Science Lab - Research Highlights"
output: 
  flexdashboard::flex_dashboard:
    storyboard: true
    social: menu
    source_code: https://github.com/bbest/csuci-invite/blob/master/docs/index.Rmd
    css: styles.css
editor_options: 
  chunk_output_type: console
---

```{r setup, include=FALSE}
library(flexdashboard)
```

```{r load}
library(tidyverse)
library(leaflet)
library(mapview)
library(mapedit)
library(sf)
library(here)
library(glue)
library(fs)
library(vembedr)
library(bsplus)
source(here("functions.R"))

# paths
pts_csv <- here("data/pts.csv")

# read csv, convert to points
pts <- read_csv(pts_csv) %>% 
  st_as_sf(
    coords = c("lon", "lat"), remove=F, 
    crs=4326)
```

### **Welcome** {data-commentary-width=400}

```{r map-all}
map_all(pts)
```

*** 

Ahoy Mateys! I be talking like a pirate because I use the scientific programming language **R** to solve _**environmental problems**_, and I want to get you _hooked_ on _**data science**_.

```{r}
embed_youtube("AG4YGh1FjFc", width=382)
```

Here are few highlights of research I do on this site.

### **Route** ships around whale hotspots {data-commentary-width=400}

<iframe style="position: absolute; width: 100%; height: 100%; border: none" src='http://shiny.env.duke.edu/bbest/siting/'></iframe>

*** 

Some commentary about Frame 2.

For more see [EcoQuants](https://ecoquants.com/app/routing/).

tags: #decision-framework #connectivity #whales

```{r}
map_feature("routing")
```

### **Site** offshore wind energy responsibly

<iframe style="position: absolute; width: 100%; height: 100%; border: none" src='http://shiny.env.duke.edu/bbest/siting/'></iframe>

*** 

```{r}
#file.exists(here("docs/modal/siting_framework.md"))

md = "siting_framework"

bs_modal(
  id = "siting_framework", title = "Siting Framework",
  size = "large",
  body = includeMarkdown(here("docs/modal/siting_framework.md")))

bs_button("Siting framework", button_type = "primary") %>%
  bs_attach_modal("siting_framework")
```

tags: #renewable-energy #decision-framework #whales #birds

### Calculate **Ocean Health Index** globally {data-commentary-width=200} 

<iframe style="position: absolute; width: 100%; height: 100%; border: none" src='https://ecoquants.shinyapps.io/ohi-global/'></iframe>

*** 

The Ocean Health Index quantifies sustainable use of the oceans globally.

Click on a country to freeze the flower plot to that country in the upper right and explore the country goal scores in the flower plot.

tags: #decision-framework #whales #birds

### Predict **cetacean densities** based on habitat {data-commentary-width=200} 

<iframe style="position: absolute; width: 100%; height: 100%; border: none" src='https://www.arcgis.com/apps/MapJournal/index.html?appid=0ac67160a23f45f6859401786f8bf94b'></iframe>

*** 

[Habitat-based cetacean density models for the U.S. Atlantic and Gulf of Mexico | Duke MGEL](http://seamap.env.duke.edu/models/Duke-EC-GOM-2015/)

Citation: Roberts JJ, Best BD, Mannocci L, Fujioka E, Halpin PN, Palka DL, Garrison LP, Mullin KD, Cole TVN, Khan CB, McLellan WM, Pabst DA, Lockhart GG (2016) [Habitat-based cetacean density models for the U.S. Atlantic and Gulf of Mexico](http://www.nature.com/articles/srep22615). _Scientific Reports_ 6: 22615. doi: 10.1038/srep22615. (Download)

tags: #sdg14 #decision-framework #whales #birds

### Report on UN SDG14 **Life in the Sea** {data-commentary-width=200} 

<iframe style="position: absolute; width: 100%; height: 100%; border: none" src='https://ecoquants.shinyapps.io/ohi-global/'></iframe>

*** 

The United Nation's **Sustainable Development Goal 14** Life in the Sea

tags: #sdg14 #decision-framework #whales #birds

### Monitor **ship speeds** to avoid whale strikes {data-commentary-width=200} 

<iframe style="position: absolute; width: 100%; height: 100%; border: none" src='http://ecoquants.com/ship-cards/'></iframe>

*** 

**Ship Cards** speeding through whale strike advisories

tags: #reporting #whales #shipping

### **Resources** {data-commentary-width=400} 

```{r map-all-end}
map_all(pts)
```

*** 

Here are a couple of the tools I use in R to create apps and generate reports.

#### Rmarkdown reports

```{r}
embed_vimeo(178485416, width=382)
```

#### Shiny applications

```{r}
vembedr::embed_vimeo(97466638, width=382)
```



